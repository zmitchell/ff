version = 1

[include]
environments = [
  { remote = "zmitchell/rust-build" },
  { remote = "zmitchell/rust-dev" },
  { remote = "zmitchell/rust-test" },
]

[install]
libidn2.pkg-path = "libidn2"
libidn2.systems = [ "aarch64-linux", "x86_64-linux"]

[vars]
BIN_NAME = "ff"

[build.ffs]
command = '''
  mkdir -p $out/bin
  cargo build --release
  cp target/release/ff $out/bin/ff
'''
description = "A swiss-army knife for working on Flox"
version = "0.5.0"
runtime-packages = [ "libiconv", "libidn2", "gcc" ]

[options]
cuda-detection = false
